<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tierra Sagrada</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Agdasima:wght@400;700&family=Josefin+Sans:wght@700&family=Lato:wght@100;400;700&family=Roboto:wght@300;400;700;900&family=Montserrat:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./OI_files/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./OI_files/fontawesome-all.min.css"
    />
    <link rel="stylesheet" type="text/css" href="./OI_files/oi3.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="./OI_files/daterangepicker.min.css"
    />
  </head>
  <body>
    <nav class="navbar sticky-top navbar-expand-lg">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"
          ><img
            class="d-inline-block align-text-center logo me-2"
            height="60"
            src="./OI_files/tierrasagrada.svg"
          />Tierra Sagrada</a
        >
        <div class="d-flex">
          <a href="/" class="me-4 d-none d-md-block">
            <img src="./OI_files/oi-logo-w.png" class="me-2" />
          </a>
          <button class="d-block d-md-none navbar-toggler" type="button">
            <i class="fas fa-bars text-white" style="transform: scaleX(2)"></i>
          </button>
          <div class="d-none d-md-flex flex-grow-1 align-items-center">
            <div class="navbar-nav flex-row gap-2">
              <a class="lnk nav-link" href="#">About</a>
              <a class="lnk nav-link" href="#">Contact</a>
              <a class="lnk nav-link" href="#">Logout</a>
              <a
                class="dropdown-toggle nav-link"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
              >
                EN
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li class="dropdown-item">
                  <a href="#en">English </a>
                </li>
                <li class="dropdown-item">
                  <a href="#zh">Simplified 正体字/繁体字 </a>
                </li>
                <li class="dropdown-item">
                  <a href="#zh_TW">Traditional 正體字/繁體字 </a>
                </li>
                <li class="dropdown-item">
                  <a href="#de">Deutsch </a>
                </li>
                <li class="dropdown-item">
                  <a href="#fr">Français </a>
                </li>
                <li class="dropdown-item">
                  <a href="#ar">عربى </a>
                </li>
                <li class="dropdown-item">
                  <a href="#es">Español </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <div class="container">
      <header class="d-flex flex-column p-3">
        <h1>Community Booking</h1>
        <p>
          A collaborative booking platform that focuses on giving back to and
          empowering communities around Lake Atitlan Guatemala. 5% of profits
          goes to Open Institute projects that are conserving land, educating
          children, supporting musicians, and having a positive social and
          justice impact.
        </p>
        <button class="btn btn-success align-self-center mb-2">
          <i class="fas fa-plus"></i>
          Request to add your property
        </button>
      </header>
    </div>
    <div class="container search">
      <form class="d-flex flex-column align-items-center">
        <div
          class="d-flex align-items-center justify-content-center flex-wrap mt-4 w-100 gap-2"
        >
          <div class="form-floating flex-grow-1">
            <input class="form-control" id="location" placeholder="Where to?" />
            <label for="location">Destination</label>
          </div>
          <div
            class="d-flex align-items-center justify-content-center flex-wrap gap-2"
          >
            <div class="form-floating flex-grow-1">
              <input
                type="date"
                class="form-control"
                id="checkIn"
                placeholder="Check-In"
              />
              <label for="dateRange">Check-In</label>
            </div>
            <div class="form-floating flex-grow-1">
              <input
                type="date"
                class="form-control"
                id="checkOut"
                placeholder="Check-Out"
              />
              <label for="dateRange">Check-Out</label>
            </div>
            <div class="form-floating flex-grow-1">
              <input
                type="number"
                class="form-control"
                id="checkOut"
                placeholder="Guests"
                readonly
              />
              <label for="dateRange">Guests</label>
            </div>
          </div>
          <!-- <div class="form-floating flex-grow-1">
            <input
              class="form-control"
              id="dateRange"
              placeholder="Stay dates"
            />
            <label for="dateRange">Stay dates</label>
          </div> -->
          <button class="search-btn">Search</button>
        </div>
      </form>
    </div>
    <div class="main container-fluid text-center">
      <div class="d-flex justify-content-center flex-wrap">
        <div class="ad-container" id="ad">
          <div class="ad-body">
            <div class="ad-img">
              <div id="imgCarousel" class="carousel slide">
                <div class="carousel-indicators">
                  <button
                    type="button"
                    data-bs-target="#imgCarousel"
                    data-bs-slide-to="0"
                    class="active"
                  ></button>
                  <button
                    type="button"
                    data-bs-target="#imgCarousel"
                    data-bs-slide-to="1"
                  ></button>
                  <button
                    type="button"
                    data-bs-target="#imgCarousel"
                    data-bs-slide-to="2"
                  ></button>
                </div>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img
                      src="https://source.unsplash.com/collection/8890044/600x480"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="https://source.unsplash.com/collection/8890044/600x480"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="https://source.unsplash.com/collection/8890044/600x480"
                    />
                  </div>
                </div>
                <button
                  class="carousel-control-prev"
                  type="button"
                  data-bs-target="#imgCarousel"
                  data-bs-slide="prev"
                >
                  <span class="carousel-control-prev-icon"></span>
                </button>
                <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#imgCarousel"
                  data-bs-slide="next"
                >
                  <span class="carousel-control-next-icon" role="button"></span>
                </button>
              </div>
              <button
                class="owner-btn"
                data-name="John Doe"
                data-reviews="144"
                data-rating="4.56"
                data-rank="Host"
                data-duration="5"
                data-location="San Lucas Sacatepéquez"
                data-description="Lore ipsum dolor sit amet, adipiscing elit."
              >
                <img
                  src="https://loremflickr.com/g/320/240/potrait,people/all"
                />
              </button>
            </div>
            <div class="ad-details">
              <p class="rating">★ 4.56</p>
              <p
                class="location text-truncate"
                style="max-width: calc(100% - 50px)"
              >
                San Lucas Sacatepéquez
              </p>
              <p class="owner text-truncate">Hosted by John Doe</p>
              <div class="d-flex justify-content-between mt-2">
                <p class="availability">Sep 10 &mdash; Sep 25</p>
                <p class="price"><span class="currency">$30</span>/night</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="ownerPreview">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content owner-preview">
          <button type="button" class="btn-close"></button>
          <div class="details-card">
            <img src="https://loremflickr.com/g/320/240/potrait,people/all" />
            <p class="name"></p>
            <p class="rank"></p>
            <div class="d-flex justify-content-around w-100 stats">
              <p class="reviews">
                <strong></strong>
                <small>Reviews</small>
              </p>
              <p class="rating">
                <strong></strong>
                <small>Rating</small>
              </p>
              <p class="duration">
                <strong></strong>
                <small>Years hosting</small>
              </p>
            </div>
          </div>
          <p class="description"></p>
        </div>
      </div>
    </div>
    <footer>&copy; 2021 Tierra Sagrada</footer>
    <script src="./OI_files/jquery-3.6.0.min.js"></script>
    <!-- generating placeholders for testing, delete this section in production -->
    <script>
      let el = document.querySelector("#ad");
      for (let i = 0; i <= 16; i++) {
        let clone = el.cloneNode(true);
        let carousel = $(clone).find("#imgCarousel");
        carousel.attr("id", "imgCarousel" + i);
        carousel
          .find("img")
          .first()
          .attr(
            "src",
            "https://source.unsplash.com/collection/8890044/600x" + (500 + i)
          );
        $(carousel)
          .find("button[data-bs-target='#imgCarousel']")
          .each(function () {
            $(this).attr("data-bs-target", "#imgCarousel" + i);
          });
        el.parentElement.appendChild(clone);
      }
    </script>
    <!-- section end -->
    <script
      type="text/javascript"
      defer=""
      src="./OI_files/bootstrap.bundle.min.js"
    ></script>
    <script>
      $(document).ready(function () {
        $("#checkIn").attr("min", new Date().toISOString().split("T")[0]);
        $("#checkIn").on("change", function () {
          var checkOutDate = new Date($(this).val());
          checkOutDate.setDate(checkOutDate.getDate() + 1);
          $("#checkOut").attr("min", $(this).val());
          $("#checkOut").val(checkOutDate.toISOString().split("T")[0]);
        });
        $(".owner-btn").click(function (e) {
          e.stopPropagation();
          var reviews = $(this).data("reviews");
          var rating = $(this).data("rating");
          var rank = $(this).data("rank");
          var duration = $(this).data("duration");
          var location = $(this).data("location");
          var description = $(this).data("description");
          var name = $(this).data("name");
          var img = $(this).find("img").attr("src");

          var modelEl = $("#ownerPreview");
          modelEl.find(".reviews strong").text(reviews);
          modelEl.find(".rating strong").text(rating);
          modelEl.find(".duration strong").text(duration);
          modelEl.find(".location").text(location);
          modelEl.find(".description").text(description);
          modelEl.find(".name").text(name);
          modelEl.find(".rank").text(rank);
          modelEl.find("img").attr("src", img);

          var modal = new bootstrap.Modal(modelEl);
          modal.show();
        });
        $(".btn-close").click(function () {
          var modal = bootstrap.Modal.getInstance(
            document.querySelector("#ownerPreview")
          );
          modal.hide();
        });
        $("#ad").click(function (e) {
          if (e.target.nodeName === "SPAN" || e.target.nodeName === "BUTTON") {
            return;
          }
          window.location.href = "./details.html";
        });
      });
    </script>
  </body>
</html>
